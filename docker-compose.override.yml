# Local development override
# This file is automatically used by docker compose for local development
# Production deployments use docker-compose.yml only (GHCR image)
# 
# Usage:
#   Local:  docker compose up -d          (uses docker-compose.yml + this override)
#   Prod:   docker compose -f docker-compose.yml up -d  (ignores this override)

services:
  api:
    # Override: Build locally instead of using GHCR image
    # When build is specified, it takes precedence over image
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      # Local development settings
      NODE_ENV: ${NODE_ENV:-development}
      # Redis connection for local (already in base compose, but explicit here)
      REDIS_URL: ${REDIS_URL:-redis://redis:6379}

  video-worker:
    # Override: Build locally for development
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      NODE_ENV: ${NODE_ENV:-development}
      REDIS_URL: ${REDIS_URL:-redis://redis:6379}

